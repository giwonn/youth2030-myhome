# youth2030-myhome

청년주택 통합 조회 사이트

## 개요

건설예정 및 현재 공실로 올라온 청년주택까지 전부 조회할 수 있는 웹사이트  
위치기반으로도 검색 가능!

- **Frontend** : SvelteKit
- **Backend** : Nest.js

<br>

## 필수 선행 작업

선행작업이 끝나야 프론트에서 지도 꾸며줄 수 있을듯  
(더미데이터보다 일단 디비쪽을 설계하자... 더미데이터로 가지고 놀다가 괜히 삽질할라...)

두 크롤러는 같은 시간대에 동작하게 해야할 듯...  
단, 동작시간은 역세권청년주택 구인공고 올라오는시간에 맞추는게 좋을듯.

### 토지주택공사 크롤러

- `파일 업데이트 날짜`, `공사예정주택리스트(단계별사업정보)` 크롤링해와야함
- 토지주택공사 사이트의 파일이 업데이트 되는지 (하루 한 번) 확인해서 디비에 업데이트해줘야함
- 당연히 파일 압축풀고나서 csv파일 가공해야함... 저장위치나 파일이름도 지정해주면 더 편할듯

### 역세권 청년주택 크롤러

- [공급현황 및 계획](http://youth2030.co.kr/user/page/mn010104.do)에서 크롤링해야함
- [모집공고](http://youth2030.co.kr/user/board/mn010203.do)에서 게시글 하나씩 들어가서 청약신청기간같은 데이터들 크롤링해줘야함  
  (게시판의 `No.`을 확인해서 없는 게시글번호만 클릭해서 데이터 가져올 것)
- 모집공고 게시글이 주로 언제 올라오는지 시간 체크해야 함

<br>

## 메인 파트

### front

1. 데이터들의 주소를 좌표로 변환 -> 지도에 뿌려주기
2. 각 좌표마다 클릭하면 정보 다 띄워주기
3. 필터링으로 자신이 지정한 위치에서 반경 ~km까지 조회하는 기능 구현
4. view 오른쪽에는 리스트로도 띄워줘야함
5. 첫화면에서 띄워주는 `좌표, 주택이름` 등은 redis에 넣어놓고, 클릭해서 상세정보 볼 때만 back에 요청함
6. 크롤링 시간에 맞춰 데이터 최신화하게 요청하던가, 혹은 back이 최신화 확인하고 직접 쏴주게 만들자.
7. 크롤러까지 완성되면 네이버검색 api는 빼도 될듯?

### back

- 철저하게 api만 쏴준다. 다른거안함.
- 프론트에서 데이터 가공할일을 최대한 줄여줘야함
- 현재 네이버검색api가 카텍(Katech)좌표를 쏴주고 있음. 검색은 사용하면 안될 것 같고... `주소 -> 위/경도 좌표` 변환해주는 다른 api를 찾아보자.  
  (만약 대체할만한 api가 없다면 그냥 네이버 쓰자.)  
  (근데 이걸 worker에서 할지 back에서 할지..고민좀해봐야할듯.. 아니면 db에 좌표 두개 다 넣어줄까?)

### Database

- 일단 만들어야함... 크롤링 작업 끝나고 데이터 가공까지 하면 구조 설계부터 다시 생각하자.

### worker

- `역세권청년주택`, `토지주택공사` 데이터를 디비에 넣기 전에 가공해서 넣어야할듯...
- 직접 DB에 쏴준다. 얘는 back 안거침

<br>

## 서브 파트

### 서버 만들기

- 라즈베리파이를 서버로 꼭 써보자.
